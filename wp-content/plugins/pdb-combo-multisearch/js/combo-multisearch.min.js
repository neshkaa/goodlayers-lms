PDb_ComboMultisearch=function(b){var e,f,g,h=function(){g.source="1"===PDbCMS.alpha_auto?function(a,d){var c=new RegExp("^"+b.ui.autocomplete.escapeRegex(a.term),"i");d(b.grep(e,function(a){return c.test(a)}))}:e},k=function(a){a=b(a.target);var d=a.closest(".checkbox-group").find("input[type=checkbox]");switch(a.val()){case "any":d.not("[value=any]").prop("checked",!1);break;default:d.filter("[value=any]").prop("checked",!1)}};return{init:function(){f=b('input[name="combo_search"]');b(".multi-search-controls").find(".multicheckbox .checkbox-group input").change(k);
if(PDbCMS.auto){e=PDbCMS.autocomplete_terms;var a=b(PDb_ajax.loading_indicator).clone();g={delay:100,minLength:PDbCMS.autocomplete_min_length,search:function(d,c){b(this).closest("div").append(a);b(this).on("blur",function(){a.remove()})},open:function(b,c){a.remove()},response:function(b,c){c.content.length||a.remove()},select:function(a,c){var d=c.item.value;0<=d.indexOf(" ")&&(c.item.value='"'+d+'"');"0"!==PDbCMS.auto_search&&(f.val(c.item.value),b(a.target).closest("form").find("[data-submit=search]").trigger("click"))}};
h();f.autocomplete(g)}}}}(jQuery);jQuery(function(){PDb_ComboMultisearch.init()});